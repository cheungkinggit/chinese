<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ­ æˆèªèªéŸ³å¤§æŒ‘æˆ° ğŸ­</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Sans+TC:wght@500;700&display=swap');

        :root {
            --primary: #6C5CE7;    /* ç´«è‰² */
            --accent: #FF9F43;     /* æ©˜è‰² */
            --success: #27AE60;    /* ç¶ è‰² */
            --danger: #EE5253;     /* ç´…è‰² */
            --bg: #F0F2F5;
            --q-bg: #E8F4FD;       /* é¡Œç›®èƒŒæ™¯è— */
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 10px;
        }

        .main-container {
            background: #FFFFFF;
            width: 100%;
            max-width: 600px;
            padding: 30px;
            border-radius: 40px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border: 6px solid #FFF;
        }

        h1 {
            font-family: 'ZCOOL KuaiLe', cursive;
            text-align: center;
            color: var(--primary);
            font-size: 2.5rem;
            margin-top: 0;
            margin-bottom: 20px;
        }

        /* é€²åº¦èˆ‡åˆ†æ•¸æ’ç‰ˆ */
        .info-panel {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .info-badge {
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: white;
            font-size: 1.1rem;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        .progress-badge { background: var(--accent); }
        .score-badge { background: var(--success); }

        /* é¡Œç›®å€åŸŸæ’ç‰ˆå„ªåŒ– */
        .question-display {
            background: var(--q-bg);
            padding: 30px;
            border-radius: 25px;
            border: 3px solid #3498db;
            margin-bottom: 30px;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: left;
            font-size: 1.4rem;
            line-height: 1.8;
            color: #2c3e50;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        .highlight-blank {
            color: var(--danger);
            font-weight: 900;
            background: #FFF;
            padding: 2px 15px;
            border-radius: 10px;
            margin: 0 5px;
            border-bottom: 4px solid var(--danger);
        }

        /* é¸é …ç¶²æ ¼ */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn-option {
            background: white;
            border: 2px solid #DCDDE1;
            padding: 20px 10px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .btn-option:hover {
            border-color: var(--primary);
            background: #F8F7FF;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.1);
        }

        .py-text {
            font-size: 0.85rem;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .id-text {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2d3436;
        }

        /* æ­£èª¤åé¥‹ */
        .is-right { background-color: var(--success) !important; color: white !important; border-color: #1e8449 !important; }
        .is-wrong { background-color: var(--danger) !important; color: white !important; border-color: #c0392b !important; }
        .is-right *, .is-wrong * { color: white !important; }

        .control-panel {
            margin-top: 25px;
            height: 60px;
            text-align: center;
        }

        #btn-next {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 50px;
            border-radius: 40px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #4834d4;
            display: none;
        }

        #btn-next:hover { background: #5f27cd; }
        #btn-next:active { box-shadow: none; transform: translateY(5px); }

        @media (max-width: 480px) {
            .options-grid { grid-template-columns: 1fr; }
            .id-text { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

<div class="main-container">
    <h1>ğŸ¡ æˆèªéŠæ¨‚åœ’</h1>
    
    <div class="info-panel">
        <div class="info-badge progress-badge">é€²åº¦: <span id="cur-q">0</span>/45</div>
        <div class="info-badge score-badge">å¾—åˆ†: <span id="cur-s">0</span></div>
    </div>

    <div class="question-display" id="q-text">
        æ­£åœ¨è¼‰å…¥é¡Œç›®...
    </div>

    <div class="options-grid" id="opt-container">
        </div>

    <div class="control-panel">
        <button id="btn-next" onclick="loadQuestion()">ä¸‹ä¸€é¡Œ âœ</button>
    </div>
</div>

<script>
    const data = [
        { idiom: "ä¸€ç¬‘ç½®ä¹‹", pinyin: "yÄ« xiÃ o zhÃ¬ zhÄ«", questions: ["é¢å°ç¶²è·¯ä¸Šçš„æƒ¡æ„ç•™è¨€ï¼Œä»–é¸æ“‡å±•ç¾å¤§åº¦ï¼Œåƒ…åƒ…æ˜¯ï¼ˆï¼‰ï¼Œå®Œå…¨ä¸æ”¾åœ¨å¿ƒä¸Šã€‚", "æ—¢ç„¶é€™åªæ˜¯ä¸€å ´ç„¡å¿ƒçš„èª¤æœƒï¼Œæˆ‘å€‘å°±å¤§æ–¹åœ°ï¼ˆï¼‰å§ï¼Œæ²’å¿…è¦çˆ­è«–ã€‚", "ä»–æ—©å·²ç¿’æ…£äº†æ—äººçš„å˜²è«·ï¼Œç¸½èƒ½ä»¥è±é”çš„å¿ƒæ…‹ï¼ˆï¼‰ï¼Œç¹¼çºŒæœè‘—ç›®æ¨™é‚é€²ã€‚"]},
        { idiom: "ä¸ƒç«…ç”Ÿç…™", pinyin: "qÄ« qiÃ o shÄ“ng yÄn", questions: ["çœ‹åˆ°è¾›è‹¦ç†¬å¤œå®Œæˆçš„ä¼åŠƒæ¡ˆè¢«éš¨æ‰‹æ’•æ¯€ï¼Œä»–æ°£å¾—ï¼ˆï¼‰ï¼Œå¹¾ä¹è¦å¤§è²å’†å“®ã€‚", "åŸæœ¬æ‡‰æº–æ™‚é€é”çš„è²¨ç‰©é²åˆ°äº†ä¸‰å¤©ï¼Œè®“è€é—†æ€¥å¾—ï¼ˆï¼‰ï¼Œæ€’æ–¥è² è²¬äººã€‚", "é€™åå­¸ç”Ÿå±¢æ¬¡é•åæ ¡è¦ä¸”ä¸çŸ¥æ‚”æ”¹ï¼Œå°å¸«è¢«ä»–æ°£å¾—ï¼ˆï¼‰ï¼Œæ±ºå®šè«‹å®¶é•·ã€‚"]},
        { idiom: "ä¸å¯’è€Œæ…„", pinyin: "bÃ¹ hÃ¡n Ã©r lÃ¬", questions: ["æƒ³èµ·å‰›æ‰é‚£å ´é©šå¿ƒå‹•é­„çš„è»Šç¦ç¾å ´ï¼Œé›–ç„¶æ²’å—å‚·ï¼Œä½†æˆ‘ä¾ç„¶æ„Ÿåˆ°ï¼ˆï¼‰ã€‚", "é€™éƒ¨ææ€–é›»å½±çš„çµå±€é‚£å€‹é™°å†·çš„å¾®ç¬‘ï¼Œä»¤äººæ„Ÿåˆ°ï¼ˆï¼‰ï¼ŒèƒŒè„Šç™¼æ¶¼ã€‚", "è½å®Œé€™æ¨æ…˜çµ•äººå¯°çš„ç¤¾æœƒæ¡ˆä»¶å ±å°å¾Œï¼Œåœ¨å ´çš„è½çœ¾ç„¡ä¸æ„Ÿåˆ°ï¼ˆï¼‰ã€‚"]},
        { idiom: "å¦‚åé‡æ°ˆ", pinyin: "rÃº zuÃ² zhÄ“n zhÄn", questions: ["ç”±æ–¼ä»–æ²’æº–å‚™å¥½å ±å‘Šå…§å®¹ï¼Œé¢å°ä¸»ç®¡çš„è³ªè©¢ï¼Œä»–åœ¨åº§ä½ä¸Šæ„Ÿåˆ°ï¼ˆï¼‰ã€‚", "åœ¨ç­‰å¾…æ‰‹è¡“çµæœçš„é‚£æ®µæ™‚é–“ï¼Œå®¶å±¬å€‘åœ¨èµ°å»Šç„¦æ…®åœ°èµ°å‹•ï¼Œå¿ƒå¢ƒï¼ˆï¼‰ã€‚", "ä»–å› èªªè¬Šè€Œæ„Ÿåˆ°ç¾æ„§ï¼Œååœ¨å¤§å®¶é¢å‰æ¥å—è¡¨æšæ™‚ï¼Œåè€Œè¦ºå¾—ï¼ˆï¼‰ã€‚"]},
        { idiom: "è‡ªæš´è‡ªæ£„", pinyin: "zÃ¬ bÃ o zÃ¬ qÃ¬", questions: ["å³ä½¿é€™æ¬¡è€ƒè©¦æˆç¸¾ä¸å¦‚é æœŸï¼Œä½ æ‡‰è©²æª¢è¨åŸå› ï¼Œåƒè¬ä¸å¯ä»¥ï¼ˆï¼‰ã€‚", "è‡ªå¾äº‹æ¥­é­å—é‡å¤§æ‰“æ“Šå¾Œï¼Œä»–ä¾¿é–‹å§‹ï¼ˆï¼‰ï¼Œæ¯å¤©è—‰é…’æ¾†æ„ã€‚", "å”¯æœ‰ä¿æŒæ­£å‘ç©æ¥µçš„æ…‹åº¦ï¼Œæ‰èƒ½è·¨è¶Šä½è°·ï¼Œå¦‚æœï¼ˆï¼‰å°±çœŸçš„æ²’æ©Ÿæœƒã€‚"]},
        { idiom: "æ‹æ¡ˆå«çµ•", pinyin: "pÄi Ã n jiÃ o juÃ©", questions: ["é€™éƒ¨åµæ¢å°èªªçš„æƒ…ç¯€ç’°ç’°ç›¸æ‰£ï¼Œçµå±€çš„å‡ºäººæ„æ–™æ›´æ˜¯ä»¤äººï¼ˆï¼‰ã€‚", "é­”è¡“å¸«è¡¨æ¼”äº†ä¸€å ´ç¥ä¹å…¶æŠ€çš„è„«é€ƒç§€ï¼Œå…¨å ´è§€çœ¾ç„¡ä¸ï¼ˆï¼‰ï¼Œå ±ä»¥æŒè²ã€‚", "é€™ç¯‡ç¤¾è«–å°ç¤¾æœƒå•é¡Œçš„å‰–æéå¸¸ç²¾é—¢ï¼Œè¦‹è§£æ·±åˆ»ï¼Œè®€ä¾†ä»¤äººï¼ˆï¼‰ã€‚"]},
        { idiom: "å—å¯µè‹¥é©š", pinyin: "shÃ²u chÇ’ng ruÃ² jÄ«ng", questions: ["æ²’æƒ³åˆ°æ ¡é•·ç«Ÿç„¶è¦ªè‡ªåˆ°ç­ç´šç‚ºæˆ‘é ’ç™¼çç‹€ï¼Œé€™ä»½æ¦®è­½è®“æˆ‘æ„Ÿåˆ°ï¼ˆï¼‰ã€‚", "ç•¶åœ‹éš›å·¨æ˜Ÿè¦ªåˆ‡åœ°èˆ‡è·¯é‚Šå°ç²‰çµ²æ¡æ‰‹åˆå½±æ™‚ï¼Œé‚£åå¥³å­©é¡¯å¾—ï¼ˆï¼‰ã€‚", "ä»–åœ¨å…¬å¸åªæ˜¯å€‹æ–°é€²è·å“¡ï¼Œå»æ„å¤–ç²å¾—ç¸½ç¶“ç†çš„å…¬é–‹è®šè³ï¼Œè®“ï¼ˆï¼‰ã€‚"]},
        { idiom: "è€¿è€¿æ–¼æ‡·", pinyin: "gÄ›ng gÄ›ng yÃº huÃ¡i", questions: ["é›–ç„¶æ¯”è³½å·²ç¶“éå»å¤šå¹´ï¼Œä½†ä»–å°è‡ªå·±æœ€å¾Œä¸€åˆ»çš„å¤±æ‰‹ä¾ç„¶ï¼ˆï¼‰ã€‚", "æœ‹å‹ä¹‹é–“é›£å…æœ‰æ‘©æ“¦ï¼Œæ—¢ç„¶å°æ–¹å·²é“æ­‰ï¼Œä½ å°±ä¸å¿…å°é‚£ä»¶å°äº‹ï¼ˆï¼‰ã€‚", "ä»–ç¸½æ˜¯å› ç‚ºç•¶å¹´æ²’æœ‰è¦‹åˆ°å¤–å…¬æœ€å¾Œä¸€é¢è€Œï¼ˆï¼‰ï¼Œæˆäº†å¿ƒä¸­éºæ†¾ã€‚"]},
        { idiom: "æç„¶å¤§æ‚Ÿ", pinyin: "huÇng rÃ¡n dÃ  wÃ¹", questions: ["ç¶“éè€å¸«è€å¿ƒä¸”æ·±å…¥æ·ºå‡ºçš„è¬›è§£å¾Œï¼ŒåŸæœ¬å›°æ“¾æˆ‘çš„é›£é¡Œï¼Œæˆ‘çµ‚æ–¼ï¼ˆï¼‰ã€‚", "ä»–ä¸€ç›´ä»¥ç‚ºæ˜¯å°ç‹å·äº†ç­†ï¼Œç›´åˆ°çœŸç›¸å¤§ç™½å¾Œæ‰ï¼ˆï¼‰ï¼ŒåŸä¾†æ˜¯èª¤æœƒã€‚", "çœ‹åˆ°é€™å°ä¿¡çš„å…§å®¹ï¼Œä»–é€™æ‰ï¼ˆï¼‰ï¼Œæ˜ç™½çˆ¶æ¯å¤šå¹´ä¾†æ˜¯ç”¨å¿ƒè‰¯è‹¦ã€‚"]},
        { idiom: "ç–¾æƒ¡å¦‚ä»‡", pinyin: "jÃ­ Ã¨ rÃº chÃ³u", questions: ["ä»–æ˜¯ä¸€ä½ï¼ˆï¼‰çš„æ­£ç¾©å¾‹å¸«ï¼Œå°æ–¼ä»»ä½•éæ³•å‹¾ç•¶éƒ½çµ•å°ä¸æœƒå¦¥å”ã€‚", "é€™ä½è­¦å®˜è¾¦æ¡ˆæ™‚ï¼ˆï¼‰ï¼Œèª“è¨€è¦å°‡æ‰€æœ‰çŠ¯ç½ªä»½å­ç¹©ä¹‹ä»¥æ³•ã€‚", "åœ¨é‚£éƒ¨æ­¦ä¿ å°èªªä¸­ï¼Œç”·ä¸»è§’ï¼ˆï¼‰çš„æ€§æ ¼ï¼Œè®“ä»–æ±ºå®šæŒ‘æˆ°æƒ¡éœ¸ã€‚"]},
        { idiom: "åº¸äººè‡ªæ“¾", pinyin: "yÅng rÃ©n zÃ¬ rÇo", questions: ["é€™ä»¶æ„å¤–æ ¹æœ¬é‚„æ²’ç™¼ç”Ÿï¼Œä½ å»å·²ç¶“é–‹å§‹æ“”å¿ƒå¾Œæœï¼Œé€™å®Œå…¨æ˜¯åœ¨ï¼ˆï¼‰ã€‚", "ç”Ÿæ´»æœ¬ä¾†å°±å¾ˆå–®ç´”ï¼Œå¾ˆå¤šæ™‚å€™éƒ½æ˜¯æˆ‘å€‘è‡ªå·±æƒ³å¾—å¤ªè¤‡é›œï¼Œæ‰æœƒï¼ˆï¼‰ã€‚", "åªè¦å‡¡äº‹å•å¿ƒç„¡é¥‹å°±å¥½ï¼Œä¸è¦åœ¨æ„æµè¨€èœšèªï¼Œå¦å‰‡åªæœƒï¼ˆï¼‰ã€‚"]},
        { idiom: "æ‚ ç„¶è‡ªå¾—", pinyin: "yÅu rÃ¡n zÃ¬ dÃ©", questions: ["å‡æ—¥çš„åˆå¾Œï¼Œä»–æœ€å–œæ­¡ååœ¨çª—é‚Šï¼Œä¸€é‚Šå–å’–å•¡ä¸€é‚Šè®€æ›¸ï¼Œé¡¯å¾—ï¼ˆï¼‰ã€‚", "é„‰é–“çš„å°å¾‘ä¸Šï¼Œè€ç¿ç‰½è‘—ç‰›æ…¢æ…¢èµ°è‘—ï¼Œé‚£ç¨®ï¼ˆï¼‰çš„ç¥æƒ…éå¸¸è‡ªåœ¨ã€‚", "ä»–é€€ä¼‘å¾Œåœ¨å±±è…³ä¸‹ç¨®èœï¼Œéè‘—æ—¥å‡ºè€Œä½œã€æ—¥è½è€Œæ¯ä¸”ï¼ˆï¼‰çš„ç”Ÿæ´»ã€‚"]},
        { idiom: "è¬å¿µä¿±ç°", pinyin: "wÃ n niÃ n jÃ¹ huÄ«", questions: ["åœ¨ç¶“æ­·äº†æ¥äºŒé€£ä¸‰çš„å¤±æ•—èˆ‡æ‰“æ“Šå¾Œï¼Œä»–æ„Ÿåˆ°ï¼ˆï¼‰ï¼Œç”šè‡³æƒ³é›¢å®¶ã€‚", "æ‰€æœ‰çš„åŠªåŠ›åœ¨æœ€å¾Œä¸€åˆ»å…¨éƒ¨æ³¡æ¹¯ï¼Œçœ‹è‘—çœ¼å‰çš„å»¢å¢Ÿï¼Œä»–ï¼ˆï¼‰ã€‚", "å°æ–¼ä¸€å€‹å·²ç¶“ï¼ˆï¼‰çš„äººä¾†èªªï¼Œä»»ä½•çš„å®‰æ…°æœ‰æ™‚éƒ½é¡¯å¾—é‚£éº¼è’¼ç™½ã€‚"]},
        { idiom: "æ¨‚ä¸æ€èœ€", pinyin: "lÃ¨ bÃ¹ sÄ« shÇ”", questions: ["é€™è£¡çš„é¢¨æ™¯å„ªç¾ï¼Œé‚„æœ‰å„ç¨®è¨­æ–½ï¼Œè®“å­©å­å€‘ç©å¾—ï¼ˆï¼‰ï¼Œä¸æƒ³å›å®¶ã€‚", "ä»–åœ¨ç•™å­¸æœŸé–“çµäº¤äº†è¨±å¤šå¥½å‹ï¼Œæ¯å¤©ç”Ÿæ´»å¤šé‡‡å¤šå§¿ï¼Œç°¡ç›´æ˜¯ï¼ˆï¼‰ã€‚", "åŸæœ¬è¨ˆç•«åªå¾…ä¸‰å¤©ï¼Œæ²’æƒ³åˆ°ç•¶åœ°ç¾é£Ÿå¤ªèª˜äººï¼Œè®“ï¼ˆï¼‰ï¼Œå¤šç•™ä¸€é€±ã€‚"]},
        { idiom: "é©šæƒ¶å¤±æª", pinyin: "jÄ«ng huÃ¡ng shÄ« cuÃ²", questions: ["ç•¶ç«è­¦è­¦å ±å™¨çªç„¶å¤§è²ä½œéŸ¿æ™‚ï¼Œè¾¦å…¬å®¤çš„äººå€‘ï¼ˆï¼‰ï¼Œç´›ç´›å¥”é€ƒã€‚", "é¢å°çªå¦‚å…¶ä¾†çš„åœ°éœ‡ï¼Œä»–è¢«åš‡å¾—ï¼ˆï¼‰ï¼Œç«Ÿç„¶æ„£åœ¨å®¢å»³å¿˜è¨˜æ©è­·ã€‚", "å°æ˜ç™¼ç¾è‡ªå·±å¼„ä¸Ÿäº†åª½åª½æœ€å¿ƒæ„›çš„ç‰é²ï¼Œï¼ˆï¼‰ä¹‹ä¸‹ï¼Œèº²èµ·ä¾†å¤§å“­ã€‚"]}
    ];

    let pool = [];
    let score = 0;
    let count = 0;
    let currentAns = "";

    // åˆå§‹åŒ–èªéŸ³
    function speak(txt) {
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(txt);
            u.lang = 'zh-TW';
            window.speechSynthesis.speak(u);
        }
    }

    // åˆå§‹åŒ–é¡Œç›®æ± 
    data.forEach(i => i.questions.forEach(q => pool.push({q:q, a:i.idiom, p:i.pinyin})));
    pool.sort(() => Math.random() - 0.5);

    function loadQuestion() {
        if (count >= 45) { alert("æ­å–œå®Œæˆï¼"); count = 0; score = 0; pool.sort(() => Math.random() - 0.5); }
        
        const item = pool[count];
        currentAns = item.a;
        
        // é¡Œç›®æ’ç‰ˆï¼šé«˜äº®æ‹¬è™Ÿ
        document.getElementById('q-text').innerHTML = `<div>${item.q.replace("ï¼ˆï¼‰", '<span class="highlight-blank">ï¼Ÿ</span>')}</div>`;
        
        const container = document.getElementById('opt-container');
        container.innerHTML = '';
        document.getElementById('btn-next').style.display = 'none';

        // éš¨æ©Ÿé¸é …
        let opts = [{t:item.a, p:item.p}];
        let others = data.filter(x => x.idiom !== item.a).sort(() => Math.random() - 0.5);
        for(let i=0; i<3; i++) opts.push({t:others[i].idiom, p:others[i].pinyin});
        opts.sort(() => Math.random() - 0.5);

        opts.forEach(o => {
            const btn = document.createElement('button');
            btn.className = 'btn-option';
            btn.innerHTML = `<span class="py-text">${o.p}</span><span class="id-text">${o.t}</span>`;
            btn.onclick = () => check(btn, o.t);
            container.appendChild(btn);
        });
    }

    function check(btn, sel) {
        const all = document.querySelectorAll('.btn-option');
        all.forEach(b => b.disabled = true);

        if (sel === currentAns) {
            btn.classList.add('is-right');
            score += 10;
            speak("ç­”å°ï¼Œ" + currentAns);
        } else {
            btn.classList.add('is-wrong');
            all.forEach(b => {
                if(b.querySelector('.id-text').innerText === currentAns) b.classList.add('is-right');
            });
            speak("ç­”éŒ¯ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ " + currentAns);
        }

        count++;
        document.getElementById('cur-q').innerText = count;
        document.getElementById('cur-s').innerText = score;
        document.getElementById('btn-next').style.display = 'inline-block';
    }

    window.onload = loadQuestion;
</script>

</body>
</html>